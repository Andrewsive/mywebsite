<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Detail | Yichen Chen</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9f9f9;
            color: #111;
            overflow-x: hidden;
        }
        
        .font-serif {
            font-family: 'Playfair Display', serif;
        }

        /* 自定义滚动条 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { motion } = window.Motion;

        // 作品数据库
        const projectsData = {
            1: {
                id: 1,
                title: "FormulaPro",
                subtitle: "中药配伍服务设计",
                category: "Service Design / UX Design",
                year: "2024",
                description: "Traditional Chinese medicine requires regular prescriptions and adjustments. Long-term use leads to high transportation and outpatient costs, making simplifying the dispensing process an urgent need. FormulaPro is an innovative service design that seamlessly integrates traditional Chinese medicine (TCM) principles with modern intelligent technology.",
                tags: ["Service Design", "UX/UI", "Healthcare", "AI"],
                images: [
                    "作品集/中药配伍/FormulaPro-01.jpg",
                    "作品集/中药配伍/FormulaPro-02.jpg",
                    "作品集/中药配伍/FormulaPro-03.jpg",
                    "作品集/中药配伍/FormulaPro-04.jpg",
                    "作品集/中药配伍/FormulaPro-05.jpg",
                    "作品集/中药配伍/FomulaPro.jpg"
                ]
            }
        };

        const ArrowLeft = ({ size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 12H5"/><path d="m12 19-7-7 7-7"/></svg>
        );

        const ProjectDetail = () => {
            const [currentImageIndex, setCurrentImageIndex] = useState(0);
            const [project, setProject] = useState(null);

            useEffect(() => {
                // 从 URL 获取项目 ID
                const params = new URLSearchParams(window.location.search);
                const projectId = params.get('id') || '1';
                setProject(projectsData[projectId]);
                console.log('Project loaded:', projectsData[projectId]);
            }, []);

            const nextImage = () => {
                if (project && currentImageIndex < project.images.length - 1) {
                    setCurrentImageIndex(currentImageIndex + 1);
                }
            };

            const prevImage = () => {
                if (project && currentImageIndex > 0) {
                    setCurrentImageIndex(currentImageIndex - 1);
                }
            };

            // 键盘快捷键
            useEffect(() => {
                if (!project) return;
                const handleKeyPress = (e) => {
                    if (e.key === 'ArrowRight') nextImage();
                    if (e.key === 'ArrowLeft') prevImage();
                };
                window.addEventListener('keydown', handleKeyPress);
                return () => window.removeEventListener('keydown', handleKeyPress);
            }, [currentImageIndex, project]);

            if (!project) {
                return <div className="min-h-screen flex items-center justify-center text-2xl">Loading...</div>;
            }

            return (
                <div className="min-h-screen bg-[#f9f9f9] text-[#111]">
                    {/* 导航栏 */}
                    <nav className="fixed top-0 w-full p-6 md:p-8 flex justify-between items-center z-40 bg-white/80 backdrop-blur-sm border-b border-gray-200">
                        <motion.a 
                            href="main.html"
                            initial={{ opacity: 0, x: -20 }}
                            animate={{ opacity: 1, x: 0 }}
                            className="flex items-center gap-2 text-black hover:text-gray-600 transition-colors"
                        >
                            <ArrowLeft size={20} />
                            <span className="text-sm uppercase tracking-widest">Back to Home</span>
                        </motion.a>
                        <motion.div 
                            initial={{ opacity: 0, x: 20 }}
                            animate={{ opacity: 1, x: 0 }}
                            className="text-sm font-mono text-gray-600"
                        >
                            {currentImageIndex + 1} / {project.images.length}
                        </motion.div>
                    </nav>

                    {/* 项目信息头部 */}
                    <div className="pt-32 pb-12 px-6 md:px-20 max-w-7xl mx-auto">
                        <motion.div
                            initial={{ opacity: 0, y: 30 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ duration: 0.8 }}
                        >
                            <div className="flex flex-wrap gap-3 mb-6">
                                {project.tags.map((tag, idx) => (
                                    <span key={idx} className="px-4 py-1 bg-white/10 rounded-full text-xs uppercase tracking-wider">
                                        {tag}
                                    </span>
                                ))}
                            </div>
                            
                            <h1 className="text-5xl md:text-7xl font-serif italic mb-4">{project.title}</h1>
                            <h2 className="text-2xl md:text-3xl text-gray-600 mb-6">{project.subtitle}</h2>
                            
                            <div className="flex gap-8 text-sm mb-8">
                                <div>
                                    <span className="text-gray-500 uppercase tracking-wider text-xs block mb-1">Category</span>
                                    <span className="text-black">{project.category}</span>
                                </div>
                                <div>
                                    <span className="text-gray-500 uppercase tracking-wider text-xs block mb-1">Year</span>
                                    <span className="text-black">{project.year}</span>
                                </div>
                            </div>
                            
                            <p className="text-lg text-gray-700 max-w-3xl leading-relaxed">
                                {project.description}
                            </p>
                        </motion.div>
                    </div>

                    {/* 图片展示区 */}
                    <div className="relative">
                        {/* 主图片 */}
                        <div className="relative w-full" style={{ minHeight: '80vh' }}>
                            <motion.img
                                key={currentImageIndex}
                                initial={{ opacity: 0 }}
                                animate={{ opacity: 1 }}
                                transition={{ duration: 0.5 }}
                                src={project.images[currentImageIndex]}
                                alt={`${project.title} - ${currentImageIndex + 1}`}
                                className="w-full h-auto object-contain"
                            />

                            {/* 左右切换按钮 */}
                            {currentImageIndex > 0 && (
                                <button 
                                    className="fixed left-4 md:left-8 top-1/2 -translate-y-1/2 text-black text-6xl font-light hover:scale-110 transition-transform bg-white/80 hover:bg-white rounded-full w-16 h-16 flex items-center justify-center backdrop-blur-sm shadow-lg"
                                    onClick={prevImage}
                                >
                                    ‹
                                </button>
                            )}

                            {currentImageIndex < project.images.length - 1 && (
                                <button 
                                    className="fixed right-4 md:right-8 top-1/2 -translate-y-1/2 text-black text-6xl font-light hover:scale-110 transition-transform bg-white/80 hover:bg-white rounded-full w-16 h-16 flex items-center justify-center backdrop-blur-sm shadow-lg"
                                    onClick={nextImage}
                                >
                                    ›
                                </button>
                            )}
                        </div>

                        {/* 缩略图导航 */}
                        <div className="py-12 px-6 md:px-20">
                            <div className="flex gap-4 overflow-x-auto pb-4">
                                {project.images.map((img, idx) => (
                                    <motion.button
                                        key={idx}
                                        whileHover={{ scale: 1.05 }}
                                        onClick={() => setCurrentImageIndex(idx)}
                                        className={`flex-shrink-0 relative overflow-hidden rounded-lg transition-all ${
                                            idx === currentImageIndex 
                                                ? 'ring-2 ring-white opacity-100' 
                                                : 'opacity-50 hover:opacity-75'
                                        }`}
                                        style={{ width: '120px', height: '80px' }}
                                    >
                                        <img 
                                            src={img} 
                                            alt={`Thumbnail ${idx + 1}`}
                                            className="w-full h-full object-cover"
                                        />
                                        <div className="absolute inset-0 bg-black/20"></div>
                                    </motion.button>
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* 底部导航 */}
                    <div className="py-20 px-6 md:px-20 border-t border-gray-200">
                        <a 
                            href="main.html#work"
                            className="inline-flex items-center gap-2 text-lg hover:gap-4 transition-all text-black"
                        >
                            <ArrowLeft size={20} />
                            <span>Back to All Projects</span>
                        </a>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ProjectDetail />);
    </script>
</body>
</html>

